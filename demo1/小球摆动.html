<!DOCTYPE html>
<html>
<head>
<meta charset=" utf-8">
<meta name="author" content="http://www.softwhy.com/" />
<title>蚂蚁部落</title>
<style>
html,body,canvas{
  width:100vw;
  height:100vh;
  background:#000000;
  overflow:hidden;
}
</style>
<script>
setTimeout(() => {
  let canvas = document.querySelector('canvas');
  let context = canvas.getContext('2d');
  canvas.width = canvas.offsetWidth;
  canvas.height = canvas.offsetHeight;
 
  let pointer = {
    x: canvas.width / 2,
    y: canvas.height / 4
  };
 
  let angleInit = 0;
  let angle;
  let speed=5000;
 
  let render = function () {
    context.clearRect(0, 0, canvas.width, canvas.height);   
    // 小球
    context.save();
    context.fillStyle = "green";
    context.translate(pointer.x, pointer.y);
    context.rotate(angle);
    context.beginPath();
    context.arc(0, 200, 30, 0, 2 * Math.PI, false);
    context.fill();
 
    context.strokeStyle = "gray";
    context.lineWidth = 2;
    context.beginPath();
    context.moveTo(0, 0);
    context.lineTo(0, 200);
    context.stroke();
    context.restore();
  };
 
  let reverse = false;
  let run;
  //运动函数
  (run = (time) => {
    if (!time) {
      angle = angleInit;
    }
   angle = angle-0.01/2.5
   if(angle<-0.50){
    cancelAnimationFrame(stop);
    run2();
     
   }else{
    console.log(angle)
     render();
     requestAnimationFrame(run)
   }
   
  })();
  //运动函数
  function run2(time){
    console.log(angle)
    if(angle>-0.25){
      cancelAnimationFrame(stop);
      run3();
    }else{
      angle = angle+0.01/2
      render();
      requestAnimationFrame(run2)
    }
    
  }
  //运动函数
  function run3(time){
    if(angle<-0.90){
      cancelAnimationFrame(stop);
      run4();
    }else{
     angle = angle-0.01
      console.log(angle)
      render();
      requestAnimationFrame(run3) 
    }
  }
  //运动函数
  function run4(time){
    if(angle>0){
      cancelAnimationFrame(stop);
      run();
    }else{
     angle = angle+0.01/1.8
      console.log(angle)
      render();
      requestAnimationFrame(run4) 
    }
  }
}, 500);
</script>
</head>
<body>
<canvas></canvas>
</body>
</html>